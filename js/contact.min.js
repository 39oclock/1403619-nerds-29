const contactLink=document.querySelector(".send-message"),contactPopup=document.querySelector(".modal-contact"),contactClose=contactPopup.querySelector(".modal-close"),contactForm=contactPopup.querySelector(".contact-form"),contactName=contactPopup.querySelector(".input-user-name"),contactEmail=contactPopup.querySelector(".input-user-email"),contactMessage=contactPopup.querySelector(".textarea-message");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("login")}catch(t){isStorageSupport=!1}contactLink.addEventListener("click",function(t){t.preventDefault(),contactPopup.classList.add("modal-show"),storage?(contactName.value=storage,contactEmail.focus()):contactName.focus()}),contactClose.addEventListener("click",function(t){t.preventDefault(),contactPopup.classList.remove("modal-show"),contactPopup.classList.remove("modal-error")}),contactForm.addEventListener("submit",function(t){contactName.value&&contactEmail.value&&contactMessage.value?isStorageSupport&&localStorage.setItem("message",contactPopup.value):(t.preventDefault(),contactPopup.classList.remove("modal-error"),contactPopup.offsetWidth=contactPopup.offsetWidth,contactPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(t){27===t.keyCode&&contactPopup.classList.contains("modal-show")&&(t.preventDefault(),contactPopup.classList.remove("modal-show"))});